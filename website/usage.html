<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title></title>
<!-- 2014-10-27 Mon 22:46 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Bob Mottram" />
<meta  name="description" content="Turn the Beaglebone Black into a personal communications server"
 />
<meta  name="keywords" content="freedombox, debian, beaglebone, red matrix, email, web server, home server, internet, censorship, surveillance, social network, irc, jabber" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css"
href="http://sachachua.com/blog/wp-content/themes/sacha-v3/foundation/css/foundation.min.css"></link>
<link rel="stylesheet" type="text/css" href="http://sachachua.com/org-export.css"></link>
<link rel="stylesheet" type="text/css" href="http://sachachua.com/blog/wp-content/themes/sacha-v3/style.css"></link>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<a name="top" id="top"></a>
</div>
<div id="content">
<h1 class="title"></h1>
<div class="center">

<div class="figure">
<p><img src="./images/logo.png" alt="logo.png" />
</p>
</div>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><a href="index.html">Home</a></td>
<td class="left"><a href="#unnumbered-1">Readme</a></td>
<td class="left"><a href="#unnumbered-2">Using Email</a></td>
<td class="left"><a href="#unnumbered-18">Mailing List</a></td>
<td class="left"><a href="#unnumbered-19">Syncing to the Cloud</a></td>
<td class="left"><a href="#unnumbered-23">Play Music</a></td>
<td class="left"><a href="#unnumbered-26">Microblogging</a></td>
<td class="left"><a href="#unnumbered-28">Social Network</a></td>
<td class="left"><a href="#unnumbered-31">Chat Services</a></td>
</tr>
</tbody>
</table>

<div id="outline-container-unnumbered-1" class="outline-2">
<h2 id="unnumbered-1">Readme</h2>
<div class="outline-text-2" id="text-unnumbered-1">
<p>
After the system has installed a README file will be generated which contains passwords and some brief advice on using the installed systems. You can read this with the following commands:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
emacs ~/README
</pre>
</div>

<p>
You should transfer any passwords to a password manager such as <a href="http://www.keepassx.org/">KeepassX</a> and then delete them from the README file. To save the file after removing passwords use <b>CTRL-x CTRL-s</b>.
</p>

<p>
To exit you can either just close the terminal or use <b>CTRL-x CTRL-c</b> followed by the <b>exit</b> command.
</p>
</div>
</div>
<div id="outline-container-unnumbered-2" class="outline-2">
<h2 id="unnumbered-2">Using Email</h2>
<div class="outline-text-2" id="text-unnumbered-2">
</div><div id="outline-container-unnumbered-3" class="outline-3">
<h3 id="unnumbered-3">A technical note about email transport security</h3>
<div class="outline-text-3" id="text-unnumbered-3">
<p>
Port 465 is used for SMTP and this is supposedly deprecated for secure email. However, using TLS from the start of the communications seems far more secure than starting off with insecure communications and then trying to upgrade it with a command to begin TLS, as happens with STARTTLS. There are possible attacks against STARTTLS in which the command to begin secure communications is removed or overwritten which could then result in email being transferred in plain text over the internet and be readable by third parties.
</p>
</div>
</div>
<div id="outline-container-unnumbered-4" class="outline-3">
<h3 id="unnumbered-4">Add a password to your GPG key</h3>
<div class="outline-text-3" id="text-unnumbered-4">
<p>
If you didn't use existing GPG keys during the Freedombone installation then you'll need to add a password to your newly generated private key. This is highly recommended. Go through the following sequence of commands to ssh into the Freedombone and then change your GPG password.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
gpg --edit-key username@domain
passwd
save
quit
<span class="org-keyword">exit</span>
</pre>
</div>

<p>
Having a password on your GPG key will prevent someone from reading your email <i>even if your server gets lost or stolen</i> or if someone else has physical access to it. Make the password something long and unlikely to be guessable or vulnerable to a brute force <a href="http://en.wikipedia.org/wiki/Dictionary_attack">dictionary attack</a>.
</p>
</div>
</div>

<div id="outline-container-unnumbered-5" class="outline-3">
<h3 id="unnumbered-5">Publishing your GPG public key</h3>
<div class="outline-text-3" id="text-unnumbered-5">
<p>
If you havn't already then you should publish your GPG public key so that others can find it.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
gpg --send-keys username@domainname
<span class="org-keyword">exit</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-unnumbered-6" class="outline-3">
<h3 id="unnumbered-6">Mutt email client</h3>
<div class="outline-text-3" id="text-unnumbered-6">
<p>
Mutt is a terminal based email client which comes already installed onto the Freedombone. To access it you'll need to access it via ssh with:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
</pre>
</div>

<p>
If you're using Windows there is an ssh client called putty, on Linux just open a terminal and enter the above command with your username and domain name. On Android you can use the ConnectBot app with the hostname <b>username@domain:2222</b>
</p>

<p>
Once you have logged in via ssh then just type <b>mutt</b>. Like most terminal programs mutt is quite easy once you've learned the main keys.
</p>

<p>
Some useful keys to know are:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">"/"</td>
<td class="left">Search for text within headers</td>
</tr>

<tr>
<td class="left">*</td>
<td class="left">Move to the last message</td>
</tr>

<tr>
<td class="left">TAB</td>
<td class="left">Move to the next unread message</td>
</tr>

<tr>
<td class="left">d</td>
<td class="left">Delete a message</td>
</tr>

<tr>
<td class="left">u</td>
<td class="left">Undelete a mail which is pending deletion</td>
</tr>

<tr>
<td class="left">$</td>
<td class="left">Delete all messages selected and check for new messages</td>
</tr>

<tr>
<td class="left">a</td>
<td class="left">Add to the address book</td>
</tr>

<tr>
<td class="left">m</td>
<td class="left">Send a new mail</td>
</tr>

<tr>
<td class="left">ESC-m</td>
<td class="left">Mark all messages as having been read</td>
</tr>

<tr>
<td class="left">S</td>
<td class="left">Mark a message as spam</td>
</tr>

<tr>
<td class="left">H</td>
<td class="left">Mark a message as ham</td>
</tr>

<tr>
<td class="left">CTRL-b</td>
<td class="left">Toggle side bar on/off</td>
</tr>

<tr>
<td class="left">CTRL-n</td>
<td class="left">Next mailbox (on side bar)</td>
</tr>

<tr>
<td class="left">CTRL-p</td>
<td class="left">Previous mailbox (on side bar)</td>
</tr>

<tr>
<td class="left">CTRL-o</td>
<td class="left">Open mailbox (on side bar)</td>
</tr>

<tr>
<td class="left">]</td>
<td class="left">Expand or collapse all threads</td>
</tr>

<tr>
<td class="left">[</td>
<td class="left">Expand of collapse the current thread</td>
</tr>

<tr>
<td class="left">CTRL-k</td>
<td class="left">Import a PGP/GPG public key</td>
</tr>

<tr>
<td class="left">q</td>
<td class="left">Quit</td>
</tr>
</tbody>
</table>

<p>
To use the address book system open an email by pressing the enter key on it and then to add the sender to the address list press the A key.  It will ask you for an alias which may be used the next time you want to send a mail.  Alternatively you may just edit the <b>~/.mutt-alias</b> file directly to add email addresses.
</p>

<p>
One of the most common things which you might wish to do is to send an email.  To do this first press <i>m</i> to create a new message.  Enter the address to send to and the subject, then after a few seconds the Emacs editor will appear with a blank document.  Type your email then press <i>CTRL-x CTRL-s</i> to save it and <i>CTRL-x CTRL-c</i> to exit.  You will then see a summary of the email to be sent out.  Press <i>y</i> to send it and then enter your GPG key passphrase (the one you gave when creating a PGP/GPG key).  The purpose of that is to add a signature which is a strong proof that the email was written by you and not by someone else.
</p>

<p>
When reading emails you will initially need to enter your GPG password. It will be retained in RAM for a while afterwards.
</p>
</div>
</div>

<div id="outline-container-unnumbered-7" class="outline-3">
<h3 id="unnumbered-7">Thunderbird</h3>
<div class="outline-text-3" id="text-unnumbered-7">
<p>
Another common way in which you may want to access email is via Thunderbird.  This may be especially useful if you're trying to convert former Windows users who may previously have been using some version of Outlook.
</p>

<p>
The following instructions should be carried out on the client machines (laptop, etc), not on the BBB itself.
</p>
</div>

<div id="outline-container-unnumbered-8" class="outline-4">
<h4 id="unnumbered-8">Initial setup</h4>
<div class="outline-text-4" id="text-unnumbered-8">
<p>
Install <b>Thunderbird</b> and <b>Enigmail</b>.  How you do this just depends upon your distro and software manager or "app store".
</p>

<p>
Open Thinderbird
</p>

<p>
Select "<b>Skip this and use existing email</b>"
</p>

<p>
Enter your name, email address (myusername@mydomainname.com) and the password for your user (the one from <i>Add a user</i>).
</p>

<p>
You'll get a message saying "<i>Thunderbird failed to find the settings</i>"
</p>

<p>
The settings should be as follows, substituting <i>mydomainname.com</i> for your domain name and <i>myusername</i> for the username given previously in <i>Add a user</i>.
</p>

<ul class="org-ul">
<li>Incoming: IMAP, mydomainname.com, 993, SSL/TLS, Normal Password
</li>
<li>Outgoing: SMTP, mydomainname.com, 465, SSL/TLS, Normal Password
</li>
<li>Username: myusername
</li>
</ul>

<p>
Click <b>Done</b>.
</p>

<p>
Click <b>Get Certificate</b> and make sure "<b>permanently store this exception</b>" is selected", then click <b>Store Security Exception</b>.
</p>

<p>
From OpenPGP setup select "<b>Yes, I would like the wizard to get me started</b>".  If the wizard doesn't start automatically then "setup wizard" can be selected from OpenPGP on the menu bar.
</p>

<p>
Select "<b>Yes, I want to sign all of my email</b>"
</p>

<p>
Select "<b>No, I will create per-recipient rules</b>"
</p>

<p>
Select "<b>yes</b>" to change default settings.
</p>
</div>
</div>
<div id="outline-container-unnumbered-9" class="outline-4">
<h4 id="unnumbered-9">Import your GPG keys</h4>
<div class="outline-text-4" id="text-unnumbered-9">
<p>
On the Freedombone export your GPG public and private keys.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
gpg --list-keys username@domainname
gpg --output ~/public_key.gpg --armor --export KEY_ID
gpg --output ~/private_key.gpg --armor --export-secret-key KEY_ID
</pre>
</div>

<p>
On your laptop or desktop you can import the keys with:
</p>

<div class="org-src-container">

<pre class="src src-bash">scp -P 2222 username@domain:/home/username/*.gpg ~/
</pre>
</div>

<p>
Select "<b>I have existing public and private keys</b>".
</p>

<p>
Select your public and private GPG exported key files.
</p>

<p>
Select the account which you want to use and click <b>Next</b>, <b>Next</b> and <b>Finish</b>.
</p>

<p>
Remove your exported key files, both on your laptop/desktop and also on the Freedombone.
</p>

<div class="org-src-container">

<pre class="src src-bash">shred -zu ~/public_key.gpg
shred -zu ~/private_key.gpg
</pre>
</div>
</div>
</div>

<div id="outline-container-unnumbered-10" class="outline-4">
<h4 id="unnumbered-10">Using for the first time</h4>
<div class="outline-text-4" id="text-unnumbered-10">
<p>
Click on the Thunderbird menu, which looks like three horizontal bars on the right hand side.
</p>

<p>
Hover over <b>preferences</b> and then <b>Account settings</b>.
</p>

<p>
Select <b>OpenPGP Security</b> and make sure that <b>use PGP/MIME by default</b> is ticked. This will enable you to sign/encrypt attachments, HTML bodies and UTF-8 without any problems.
</p>

<p>
Select <b>Synchronization &amp; Storage</b>.
</p>

<p>
Make sure that <b>Keep messages for this account on this computer</b> is unticked, then click <b>Ok</b>.
</p>

<p>
Click on <b>Inbox</b>.  Depending upon how much email you have it may take a while to import the subject lines.
</p>

<p>
Note that when sending an email for the first time you will also need to accept the SSL certificate.
</p>

<p>
Get into the habit of using email encryption and encourage others to do so.  Remember that you may not think that your emails are very interesting but the Surveillance State is highly interested in them and will be actively trying to data mine your private life looking for "suspicious" patterns, regardless of whether you are guilty of any crime or not.
</p>
</div>
</div>

<div id="outline-container-unnumbered-11" class="outline-4">
<h4 id="unnumbered-11">Making folders visible</h4>
<div class="outline-text-4" id="text-unnumbered-11">
<p>
By default you won't be able to see any folders which you may have created earlier using the <i>mailinglistrule</i> script.  To make folders visible select:
</p>

<p>
<b>Menu</b>, hover over <b>Preferences</b>, select <b>Account Settings</b>, select <b>Server Settings</b> then click on the <b>Advanced</b> button.
</p>

<p>
Make sure that "<b>show only subscribed folders</b>" is not checked.  Then click the <b>ok</b> buttons.  Folders will be re-scanned, which may take some time depending upon how much email you have, but your folders will then appear.
</p>
</div>
</div>
</div>

<div id="outline-container-unnumbered-12" class="outline-3">
<h3 id="unnumbered-12">K9 Android client</h3>
<div class="outline-text-3" id="text-unnumbered-12">
<p>
<b>NOTE</b>: Currently the K9 email client will not work with the Freedombone since it doesn't support PGP/MIME encoding. However, there is development work taking place on that feature and it is hoped that K9 may be usable in the near future.
</p>
</div>

<div id="outline-container-unnumbered-13" class="outline-4">
<h4 id="unnumbered-13">Incoming server settings</h4>
<div class="outline-text-4" id="text-unnumbered-13">
<ul class="org-ul">
<li>Select settings/account settings
</li>
<li>Select Fetching mail/incoming server
</li>
<li>Enter your username and password
</li>
<li>IMAP server should be your domain name
</li>
<li>Security: SSL/TLS (always)
</li>
<li>Authentication: Plain
</li>
<li>Port: 993
</li>
</ul>
</div>
</div>
<div id="outline-container-unnumbered-14" class="outline-4">
<h4 id="unnumbered-14">Outgoing (SMTP) server settings</h4>
<div class="outline-text-4" id="text-unnumbered-14">
<ul class="org-ul">
<li>Select settings/account settings
</li>
<li>Select Sending mail/outgoing server
</li>
<li>Set SMTP server to your domain name
</li>
<li>Set Security to SSL/TLS (always)
</li>
<li>Set port to 465
</li>
<li>Set authentication to PLAIN
</li>
<li>Enter your username and password
</li>
<li>Accept the SSL certificate
</li>
</ul>
</div>
</div>
<div id="outline-container-unnumbered-15" class="outline-4">
<h4 id="unnumbered-15">Folders</h4>
<div class="outline-text-4" id="text-unnumbered-15">
<p>
To view any new folders which you may have created using the <i>mailinglistrule</i> script from your inbox press the <b>K9 icon</b> at the top left to access folders, then press the <b>menu button</b> and select <b>refresh folder list</b>.
</p>

<p>
If your folder still doesn't show up then press the <b>menu button</b>, select <b>show folders</b> and select <b>all folders</b>.
</p>
</div>
</div>
</div>

<div id="outline-container-unnumbered-16" class="outline-3">
<h3 id="unnumbered-16">Subscribing to mailing lists</h3>
<div class="outline-text-3" id="text-unnumbered-16">
<p>
To subscribe to a mailing list so that it appears within Mutt or Thunderbird.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
addmailinglist &lt;username&gt; &lt;mailinglistname&gt; &lt;subjecttag&gt;
<span class="org-keyword">exit</span>
</pre>
</div>

<p>
The subject tag should be the word or phrase which appears within the brackets in the subject line of emails from the mailing list. The mailing list name should be something short so that it is readable within the left side column of the mutt email client.
</p>
</div>
</div>
<div id="outline-container-unnumbered-17" class="outline-3">
<h3 id="unnumbered-17">Adding email addresses to a group/folder</h3>
<div class="outline-text-3" id="text-unnumbered-17">
<p>
Similar to adding mailing list folders you can also add specified email addresses into a folder.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
addemailtofolder &lt;username&gt; &lt;emailaddress&gt; &lt;mailinglistname&gt;
<span class="org-keyword">exit</span>
</pre>
</div>

<p>
The mailing list name should be something short so that it is readable within the left side column of the mutt email client.
</p>
</div>
</div>
</div>

<div id="outline-container-unnumbered-18" class="outline-2">
<h2 id="unnumbered-18">Mailing List</h2>
<div class="outline-text-2" id="text-unnumbered-18">
<p>
If you want to set up a public mailing list then when installing the system remember to set the <b>PUBLIC_MAILING_LIST</b> variable within <b>freedombone.cfg</b> to the name of your list. The name should have no spaces in it. Public mailing lists are unencrypted so anyone will be able to read the contents, including non subscribers.
</p>

<p>
To subscribe to your list send a cleartext email to:
</p>

<div class="org-src-container">

<pre class="src src-bash">mymailinglistname+subscribe@domainname
</pre>
</div>

<p>
Tip: When using the Mutt email client if you want to send an email in cleartext then press <b>p</b> (for PGP) on the sending screen and select <b>clear</b>. Unsecure email is treated as being the exception rather than the default.
</p>
</div>
</div>
<div id="outline-container-unnumbered-19" class="outline-2">
<h2 id="unnumbered-19">Syncing to the Cloud</h2>
<div class="outline-text-2" id="text-unnumbered-19">
</div><div id="outline-container-unnumbered-20" class="outline-3">
<h3 id="unnumbered-20">Initial install</h3>
<div class="outline-text-3" id="text-unnumbered-20">
<p>
Within a browser go to your owncloud domain, then create an administrator account. The username and password can be anything, and ideally should be generated from a password manager.
</p>

<p>
You will also need to enter database details:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">Owncloud database user</td>
<td class="left">owncloudadmin</td>
</tr>

<tr>
<td class="left">Owncloud database password</td>
<td class="left">See the <a href="#unnumbered-1">Readme</a> file</td>
</tr>

<tr>
<td class="left">Owncloud database name</td>
<td class="left">owncloud</td>
</tr>
</tbody>
</table>

<p>
After creating an administrator account then create a user account via the Users dropdown menu entry on the right hand side and log the details in a password manager. Give the user a quota suitable for the size of your microSD card or other storage.
</p>

<p>
Log out from the administrator account and then log back in as the user you just created.
</p>
</div>
</div>
<div id="outline-container-unnumbered-21" class="outline-3">
<h3 id="unnumbered-21">On Android</h3>
<div class="outline-text-3" id="text-unnumbered-21">
<p>
Within F-droid search for <b>owncloud</b> and install the client. Also install <b>CalDAV Sync Adapter</b>.
</p>

<p>
Open the owncloud app and enter your owncloud domain name (including the https prefix) and login details for the user you created.
</p>

<p>
Open the calendar app and under <b>settings</b> add a CalDav account with the url:
</p>

<div class="org-src-container">

<pre class="src src-bash">https://myownclouddomain/remote.php/caldav/principals/myowncloudusername
</pre>
</div>

<p>
You will also be prompted to enter login details. Your Android and Owncloud calendars should now be synchronised.
</p>
</div>
</div>
<div id="outline-container-unnumbered-22" class="outline-3">
<h3 id="unnumbered-22">On Linux</h3>
<div class="outline-text-3" id="text-unnumbered-22">
<p>
Open your software center and search for "owncloud client". Enter your owncloud domain name (with the https prefix) and login details.
</p>

<p>
You can now drag files into the <b>~/owncloud</b> directory and they will automatically sync to your server. It's that easy.
</p>
</div>
</div>
</div>
<div id="outline-container-unnumbered-23" class="outline-2">
<h2 id="unnumbered-23">Play Music</h2>
<div class="outline-text-2" id="text-unnumbered-23">
</div><div id="outline-container-unnumbered-24" class="outline-3">
<h3 id="unnumbered-24">With the DLNA service</h3>
<div class="outline-text-3" id="text-unnumbered-24">
<p>
An easy way to play music on any mobile device in your home is to use the DLNA service. Copy your music into a directory called "<i>Music</i>" on a USB thumb drive and then insert it into from socket on the Beaglebone.
</p>

<p>
ssh into the system with:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh myusername@mydomain.com -p 2222
</pre>
</div>

<p>
Then mount the USB drive with:
</p>

<div class="org-src-container">

<pre class="src src-bash">su
attach-music
</pre>
</div>

<p>
The system will scan the Music directory, which could take a while if there are thousands of files, but you don't need to do anything further with the Beaglebone other than perhaps to log out by typing <b>exit</b> a couple of times.
</p>

<p>
If you have an Android device then go to F-Droid (if you don't already have it installed then it can be <a href="https://f-droid.org/">downloaded here</a>) and search for <b>ControlDLNA</b>. On running the app you should see a red Debian icon which you can press on, then you may need to select "local". After a few seconds the list of albums or tracks should then appear and you can browse and play them.
</p>

<p>
The DLNA service will only work within your local home network, and isn't remotely accessible from other locations via the internet. That can be both a good and a bad thing. Another consideration is that there are no access controls on DLNA services, so any music or videos on the USB drive will be playable by anyone within your home network. If you need to restrict access to certain files then it may be better to use the music player within Owncloud.
</p>
</div>
</div>

<div id="outline-container-unnumbered-25" class="outline-3">
<h3 id="unnumbered-25">With Owncloud</h3>
<div class="outline-text-3" id="text-unnumbered-25">
<p>
The main advantage of playing music via Owncloud is that you can do that from anywhere - not only within your home network.
</p>

<p>
By default a music player is installed into Owncloud, so all you need to do is to visit your Owncloud web site, select the <b>music</b> directory and then upload some music files. Afterwards you can select the <b>music icon</b> from the top left drop down menu and albums will then appear which can be played. If you want to share music with other users then you can select the <b>share</b> option from within the files view to make the tracks available.
</p>
</div>
</div>
</div>

<div id="outline-container-unnumbered-26" class="outline-2">
<h2 id="unnumbered-26">Microblogging</h2>
<div class="outline-text-2" id="text-unnumbered-26">
</div><div id="outline-container-unnumbered-27" class="outline-3">
<h3 id="unnumbered-27">Initial configuration</h3>
<div class="outline-text-3" id="text-unnumbered-27">
<p>
To set up your microblog go to:
</p>

<div class="org-src-container">

<pre class="src src-bash">https://yourmicroblogdomainname/install.php
</pre>
</div>

<p>
and enter the following settings:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">Server SSL</td>
<td class="left">enable</td>
</tr>

<tr>
<td class="left">Hostname</td>
<td class="left">localhost</td>
</tr>

<tr>
<td class="left">Type</td>
<td class="left">MySql/MariaDB</td>
</tr>

<tr>
<td class="left">Name</td>
<td class="left">gnusocial</td>
</tr>

<tr>
<td class="left">DB username</td>
<td class="left">root</td>
</tr>

<tr>
<td class="left">DB Password</td>
<td class="left">See the MariaDB password in the <a href="#unnumbered-1">Readme</a> file</td>
</tr>

<tr>
<td class="left">Administrator nickname</td>
<td class="left">Your username</td>
</tr>

<tr>
<td class="left">Administrator password</td>
<td class="left">See the <a href="#unnumbered-1">Readme</a> file</td>
</tr>

<tr>
<td class="left">Subscribe to announcements</td>
<td class="left">ticked</td>
</tr>

<tr>
<td class="left">Site profile</td>
<td class="left">Community</td>
</tr>
</tbody>
</table>

<p>
When the install is complete you will see a lot of warnings but just ignore those and navigate to your microblog domain and you can then complete the configuration via the <b>Admin</b> section on the header bar.  Some recommended admin settings are:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">Site settings</td>
<td class="left">Text limit 140, Dupe Limit 60000</td>
</tr>

<tr>
<td class="left">User settings</td>
<td class="left">Bio limit 1000</td>
</tr>

<tr>
<td class="left">Access settings</td>
<td class="left"><i>Invite only</i> ticked</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-unnumbered-28" class="outline-2">
<h2 id="unnumbered-28">Social Network</h2>
<div class="outline-text-2" id="text-unnumbered-28">
</div><div id="outline-container-unnumbered-29" class="outline-3">
<h3 id="unnumbered-29">Certificates</h3>
<div class="outline-text-3" id="text-unnumbered-29">
<p>
You will need to have a non self-signed SSL certificate in order to use Red Matrix. Put the public certificate in <b>/etc/ssl/certs/yourredmatrixdomainname.crt</b> and the private certificate in <b>/etc/ssl/private/yourredmatrixdomainname.key</b>. If there is an intermediate certificate needed (such as with StartSSL) then this will need to be concatenated onto the end of the crt file, like this:
</p>

<div class="org-src-container">

<pre class="src src-bash">cat /etc/ssl/certs/yourredmatrixdomainname.crt /etc/ssl/chains/startssl-sub.class1.server.ca.pem &gt;
 /etc/ssl/certs/yourredmatrixdomainname.bundle.crt
</pre>
</div>

<p>
Then change ssl_certificate to <b>/etc/ssl/certs/yourredmatrixdomainname.bundle.crt</b> within <b>/etc/nginx/sites-available/yourredmatrixdomainname</b>
</p>
</div>
</div>
<div id="outline-container-unnumbered-30" class="outline-3">
<h3 id="unnumbered-30">Initial install</h3>
<div class="outline-text-3" id="text-unnumbered-30">
<p>
Visit the URL of your Red Matrix site and you should be taken through the rest of the installation procedure.  Note that this may take a few minutes so don't be concerned if it looks as if it has crashed - just leave it running.
</p>

<p>
When installation is complete you can register a new user.
</p>
</div>
</div>
</div>
<div id="outline-container-unnumbered-31" class="outline-2">
<h2 id="unnumbered-31">Chat Services</h2>
<div class="outline-text-2" id="text-unnumbered-31">
</div><div id="outline-container-unnumbered-32" class="outline-3">
<h3 id="unnumbered-32">IRC</h3>
<div class="outline-text-3" id="text-unnumbered-32">
<p>
IRC is useful for multi-user chat. The classic use case is for software development where many engineers might need to coordinate their activities, but it's also useful for meetings, parties and general socialising.
</p>
</div>
<div id="outline-container-unnumbered-33" class="outline-4">
<h4 id="unnumbered-33">Irssi</h4>
<div class="outline-text-4" id="text-unnumbered-33">
<p>
If you are using the <a href="http://www.irssi.org/">irssi</a> IRC client then you can use the following commands to connect to your IRC server.
</p>

<div class="org-src-container">

<pre class="src src-bash">/server add -auto -ssl yourdomainname 6697
/connect yourdomainname
/join freedombone
</pre>
</div>
</div>
</div>
<div id="outline-container-unnumbered-34" class="outline-4">
<h4 id="unnumbered-34">XChat</h4>
<div class="outline-text-4" id="text-unnumbered-34">
<p>
If you are using the XChat client:
</p>

<p>
Within the network list click, <b>Add</b> and enter your domain name then click <b>Edit</b>.
</p>

<p>
Select the entry within the servers box, then enter <b>mydomainname/6697</b> and press <b>Enter</b>.
</p>

<p>
Uncheck <b>use global user information</b>.
</p>

<p>
Enter first and second nicknames and check <b>auto connect to this network on startup</b>.
</p>

<p>
Check <b>use SSL</b> and <b>accept invalid SSL certificate</b>.
</p>

<p>
Enter <b>#freedombone</b> as the channel name.
</p>

<p>
Click <b>close</b> and then <b>connect</b>.
</p>
</div>
</div>
</div>

<div id="outline-container-unnumbered-35" class="outline-3">
<h3 id="unnumbered-35">XMPP/Jabber</h3>
<div class="outline-text-3" id="text-unnumbered-35">
</div><div id="outline-container-unnumbered-36" class="outline-4">
<h4 id="unnumbered-36">Managing users</h4>
<div class="outline-text-4" id="text-unnumbered-36">
<p>
To add a user:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
su
prosodyctl adduser newusername@newdomainname
<span class="org-keyword">exit</span>
<span class="org-keyword">exit</span>
</pre>
</div>

<p>
To change a user password:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
su
prosodyctl passwd username@domainname
<span class="org-keyword">exit</span>
<span class="org-keyword">exit</span>
</pre>
</div>

<p>
To remove a user:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
su
prosodyctl deluser username@domainname.com
<span class="org-keyword">exit</span>
<span class="org-keyword">exit</span>
</pre>
</div>

<p>
Report the status of the XMPP server:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
su
prosodyctl status
<span class="org-keyword">exit</span>
<span class="org-keyword">exit</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-unnumbered-37" class="outline-4">
<h4 id="unnumbered-37">Using with Jitsi</h4>
<div class="outline-text-4" id="text-unnumbered-37">
<p>
Jitsi is the recommended communications client for desktop or laptop systems, since it includes the <i>off the record</i> (OTR) feature which provides some additional security beyond the usual SSL certificates.
</p>

<p>
Jitsi can be downloaded from <a href="https://jitsi.org/">https://jitsi.org/</a>
</p>

<p>
On your desktop/laptop open Jitsi and select <b>Options</b> from the <b>Tools</b> menu.
</p>

<p>
Click <b>Add</b> to add a new user, then enter the Jabber ID which you previously specified with <i>prosodyctl</i> when setting up the XMPP server. Close and then you should notice that your status is "Online" (or if not then you should be able to set it to online).
</p>

<p>
From the <b>File</b> menu you can add contacts, then select the chat icon to begin a chat.  Click on the lock icon on the right hand side and this will initiate an authentication procedure in which you can specify a question and answer to verify the identity of the person you're communicating with.  Once authentication is complete then you'll be chating using OTR, which provides an additional layer of security.
</p>

<p>
When opening Jitsi initially you will get a certificate warning for your domain name (assuming that you're using a self-signed certificate). If this happens then select <b>View Certificate</b> and enable the checkbox to trust the certificate, then select <b>Continue Anyway</b>.  Once you've done this then the certificate warning will not appear again unless you reinstall Jitsi or use a different computer.
</p>

<p>
You can also <a href="https://www.youtube.com/watch?v=vgx7VSrDGjk">see this video</a> as an example of using OTR.
</p>
</div>
</div>
<div id="outline-container-unnumbered-38" class="outline-4">
<h4 id="unnumbered-38">Using with Ubuntu</h4>
<div class="outline-text-4" id="text-unnumbered-38">
<p>
The default XMPP client in Ubuntu is Empathy.  Using Empathy isn't as secure as using Jitsi, since it doesn't include the <i>off the record</i> feature, but since it's the default it's what many users will have easy access to.
</p>

<p>
Open <b>System Settings</b> and select <b>Online Accounts</b>, <b>Add account</b>  and then <b>Jabber</b>.
</p>

<p>
Enter your username (username@domainname) and password.
</p>

<p>
Click on <b>Advanced</b> and make sure that <b>Encryption required</b> and <b>Ignore SSL certificate errors</b> are checked.  Ignoring the certificate errors will allow you to use the self-signed certificate created earlier.  Then click <b>Done</b> and set your Jabber account and Empathy to <b>On</b>.
</p>
</div>
</div>
<div id="outline-container-unnumbered-39" class="outline-4">
<h4 id="unnumbered-39">Using with Android</h4>
<div class="outline-text-4" id="text-unnumbered-39">
<p>
Install <a href="https://f-droid.org/">F-Droid</a>
</p>

<p>
Search for and install Xabber.
</p>

<p>
Add an account and enter your Jabber/XMPP ID and password.
</p>

<p>
From the menu select <b>Settings</b> then <b>Security</b> then <b>OTR mode</b>.  Set the mode to <b>Required</b>.
</p>

<p>
Make sure that <b>Check server certificate</b> is not checked.
</p>

<p>
Go back to the initial screen and then using the menu you can add contacts and begin chatting.  Both parties will need to go through the off-the-record question and answer verification before the chat can begin, but that only needs to be done once for each person you're chatting with.
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">

<style type="text/css">
.back-to-top {
    position: fixed;
    bottom: 2em;
    right: 0px;
    text-decoration: none;
    color: #000000;
    background-color: rgba(235, 235, 235, 0.80);
    font-size: 12px;
    padding: 1em;
    display: none;
}

.back-to-top:hover {
    background-color: rgba(135, 135, 135, 0.50);
}
</style>

<div class="back-to-top">
<a href="#top">Back to top</a> | <a href="mailto:bob@robotics.uk.to">E-mail me</a>
</div>

<script type="text/javascript">
    var offset = 220;
    var duration = 500;
    jQuery(window).scroll(function() {
        if (jQuery(this).scrollTop() > offset) {
            jQuery('.back-to-top').fadeIn(duration);
        } else {
            jQuery('.back-to-top').fadeOut(duration);
        }
    });
</script>
</div>
</body>
</html>
